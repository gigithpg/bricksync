import{j as e,A as ae,T as K,B as v,F as h,a as G,M as b,C as F,N as le,b as me,c as q}from"./react-bootstrap-DmpwaipN.js";import{c as we,a as o,d as M,R as ge,B as ve,N as U,e as De,f as W}from"./vendor-hWUcnmkR.js";import{M as xe}from"./flatpickr-D2bVW06r.js";import{C as ie,B as Pe,r as be}from"./chartjs-D0z-848v.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))j(l);new MutationObserver(l=>{for(const p of l)if(p.type==="childList")for(const I of p.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&j(I)}).observe(document,{childList:!0,subtree:!0});function u(l){const p={};return l.integrity&&(p.integrity=l.integrity),l.referrerPolicy&&(p.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?p.credentials="include":l.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function j(l){if(l.ep)return;l.ep=!0;const p=u(l);fetch(l.href,p)}})();var ce={},ue;function Re(){if(ue)return ce;ue=1;var g=we();return ce.createRoot=g.createRoot,ce.hydrateRoot=g.hydrateRoot,ce}var ke=Re();const X=o.createContext({customers:[],setCustomers:()=>{},sales:[],setSales:()=>{},payments:[],setPayments:()=>{},transactions:[],setTransactions:()=>{},balances:[],setBalances:()=>{}});function je({children:g}){console.log("[AppProvider] Rendering AppProvider");const[i,u]=o.useState([]),[j,l]=o.useState([]),[p,I]=o.useState([]),[f,d]=o.useState([]),[D,n]=o.useState([]);return console.log("[AppProvider] State:",{customers:i,sales:j,payments:p,transactions:f,balances:D}),e.jsx(X.Provider,{value:{customers:i,setCustomers:u,sales:j,setSales:l,payments:p,setPayments:I,transactions:f,setTransactions:d,balances:D,setBalances:n},children:g})}class Ne extends o.Component{constructor(){super(...arguments),this.state={hasError:!1,errorMessage:""}}static getDerivedStateFromError(i){return{hasError:!0,errorMessage:i.message}}componentDidCatch(i,u){console.error("[ErrorBoundary] Caught error:",i,u)}render(){return this.state.hasError?e.jsxs(e.Fragment,{children:[e.jsxs(ae,{variant:"danger",className:"m-3",children:[e.jsx(ae.Heading,{children:"Something went wrong"}),e.jsx("p",{children:"An error occurred while rendering this component. Please try again or contact support if the issue persists."})]}),e.jsxs(K,{show:this.state.hasError,onClose:()=>this.setState({hasError:!1,errorMessage:""}),delay:5e3,autohide:!0,style:{position:"fixed",bottom:20,right:20},children:[e.jsx(K.Header,{children:e.jsx("strong",{className:"me-auto",children:"Error"})}),e.jsx(K.Body,{children:this.state.errorMessage})]})]}):this.props.children}}const se=g=>{if(!g)return"-";const i=typeof g=="string"?new Date(g.replace(/-/g,"/")):g;return isNaN(i.getTime())?"-":`${String(i.getDate()).padStart(2,"0")}-${String(i.getMonth()+1).padStart(2,"0")}-${i.getFullYear()}`},E=g=>{if(g==null||isNaN(g))return"-";const i=Number.isInteger(g)?Math.floor(g):Number(g.toFixed(2));return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:Number.isInteger(g)?0:2,maximumFractionDigits:2}).format(i)};function Ie(g){return g.trim().toLowerCase().replace(/(^|\s)\w/g,i=>i.toUpperCase())}function Fe(g,i,u){const j=i.some(p=>p.CustomerID===g),l=u.some(p=>p.CustomerID===g);return j&&l?{canDelete:!1,message:"Cannot delete customer with associated sales and payments."}:j?{canDelete:!1,message:"Cannot delete customer with associated sales."}:l?{canDelete:!1,message:"Cannot delete customer with associated payments."}:{canDelete:!0,message:"Customer can be deleted."}}function Me(){console.log("[Customers] Rendering Customers component");const{customers:g,setCustomers:i,sales:u,payments:j}=o.useContext(X),[l,p]=o.useState(!1),[I,f]=o.useState(!1),[d,D]=o.useState(null),[n,C]=o.useState({CustomerName:""}),[P,S]=o.useState("CustomerID"),[x,k]=o.useState("asc"),[c,r]=o.useState(""),[w,a]=o.useState(1),[m,A]=o.useState({show:!1,message:""}),L=5,T=o.useRef(null);o.useEffect(()=>{console.log("[Customers] Fetching customers from API"),M.get("http://localhost:3000/api/customers").then(y=>{console.log("[Customers] Fetched customers:",y.data),i(Array.isArray(y.data)?y.data:[])}).catch(y=>{console.error("[Customers] Error fetching customers:",y.message,y.response?.status,y.response?.data),i([]),A({show:!0,message:`Failed to fetch customers: ${y.response?.data?.error||y.message}`})})},[i]),o.useEffect(()=>{l&&T.current&&T.current.focus()},[l]);const z=()=>{console.log("[Customers] Opening add customer modal"),D(null),C({CustomerName:""}),p(!0)},Y=y=>{console.log("[Customers] Editing customer:",y.CustomerID),D(y),C({CustomerName:y.CustomerName}),p(!0)},Z=()=>{if(!n.CustomerName.trim()){console.warn("[Customers] Name is empty"),A({show:!0,message:"Customer name cannot be empty"});return}const y=Ie(n.CustomerName);d?(console.log("[Customers] Saving edited customer:",d.CustomerID),M.put(`http://localhost:3000/api/customers/${d.CustomerID}`,{CustomerName:y}).then(s=>{console.log("[Customers] Customer updated:",s.data),i(N=>N.map(t=>t.CustomerID===d.CustomerID?{...t,CustomerName:y,UpdatedAt:new Date().toISOString()}:t)),A({show:!0,message:"Customer updated successfully"}),p(!1),C({CustomerName:""})}).catch(s=>{console.error("[Customers] Error updating customer:",s.message,s.response?.status,s.response?.data),A({show:!0,message:`Failed to update customer: ${s.response?.data?.error||s.message}`})})):(console.log("[Customers] Saving new customer:",y),M.post("http://localhost:3000/api/customers",{CustomerName:y}).then(s=>{console.log("[Customers] Customer created:",s.data),i(N=>[...N,{CustomerID:s.data.CustomerID,CustomerName:y,CreatedAt:new Date().toISOString()}]),A({show:!0,message:"Customer created successfully"}),p(!1),C({CustomerName:""})}).catch(s=>{console.error("[Customers] Error creating customer:",s.message,s.response?.status,s.response?.data),A({show:!0,message:`Failed to create customer: ${s.response?.data?.error||s.message}`})}))},Q=y=>{console.log("[Customers] Checking if customer can be deleted:",y.CustomerID);const{canDelete:s,message:N}=Fe(y.CustomerID,u,j);s?(D(y),f(!0)):A({show:!0,message:N})},ne=()=>{d&&(console.log("[Customers] Deleting customer:",d.CustomerID),M.delete(`http://localhost:3000/api/customers/${d.CustomerID}`).then(y=>{console.log("[Customers] Customer deleted:",y.data),i(s=>s.filter(N=>N.CustomerID!==d.CustomerID)),A({show:!0,message:"Customer deleted successfully"}),f(!1),D(null)}).catch(y=>{console.error("[Customers] Error deleting customer:",y.message,y.response?.status,y.response?.data),A({show:!0,message:`Failed to delete customer: ${y.response?.data?.error||y.message}`}),f(!1)}))},$=y=>{console.log("[Customers] Sorting by:",y);const s=P===y&&x==="asc"?"desc":"asc";S(y),k(s)},_=Array.isArray(g)?g.filter(y=>y.CustomerName.toLowerCase().includes(c.toLowerCase())):[];console.log("[Customers] Filtered customers:",_);const J=[..._].sort((y,s)=>{const N=y[P]||"",t=s[P]||"";return x==="asc"?N.localeCompare(t):t.localeCompare(N)});console.log("[Customers] Sorted customers:",J);const ee=Math.ceil(J.length/L)||1,te=J.slice((w-1)*L,w*L);return console.log("[Customers] Paginated customers:",te),e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Customers"}),e.jsx(v,{onClick:z,className:"my-3",children:"Add Customer"}),e.jsx(h.Group,{className:"my-3",children:e.jsx(h.Control,{type:"text",placeholder:"Search by customer name",value:c,onChange:y=>{console.log("[Customers] Search term:",y.target.value),r(y.target.value),a(1)}})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(G,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("CustomerID"),children:["Customer ID ",P==="CustomerID"&&(x==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("CustomerName"),children:["Name ",P==="CustomerName"&&(x==="asc"?"↑":"↓")]}),e.jsx("th",{style:{whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx("tbody",{children:te.map(y=>e.jsxs("tr",{children:[e.jsx("td",{style:{whiteSpace:"nowrap"},children:y.CustomerID}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:y.CustomerName}),e.jsxs("td",{style:{whiteSpace:"nowrap"},children:[e.jsx(v,{variant:"primary",size:"sm",onClick:()=>Y(y),className:"me-2",children:"Edit"}),e.jsx(v,{variant:"danger",size:"sm",onClick:()=>Q(y),children:"Delete"})]})]},y.CustomerID))})]})}),e.jsxs("div",{className:"my-3",children:[e.jsx(v,{disabled:w===1,onClick:()=>{console.log("[Customers] Previous page"),a(y=>y-1)},children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",w," of ",ee]}),e.jsx(v,{disabled:w===ee,onClick:()=>{console.log("[Customers] Next page"),a(y=>y+1)},children:"Next"})]}),e.jsxs(b,{show:l,onHide:()=>{p(!1),C({CustomerName:""})},children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:d?"Edit Customer":"Add Customer"})}),e.jsx(b.Body,{children:e.jsx(h,{onSubmit:y=>y.preventDefault(),children:e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Name"}),e.jsx(h.Control,{type:"text",value:n.CustomerName,onChange:y=>C({...n,CustomerName:y.target.value}),onKeyDown:y=>{y.key==="Enter"&&(console.log("[Customers] Enter key pressed, preventing default"),y.preventDefault())},placeholder:"Enter customer name",required:!0,ref:T})]})})}),e.jsxs(b.Footer,{children:[e.jsx(v,{variant:"secondary",onClick:()=>{p(!1),C({CustomerName:""})},children:"Close"}),e.jsx(v,{variant:"primary",onClick:Z,children:"Save"})]})]}),e.jsxs(b,{show:I,onHide:()=>f(!1),children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:"Confirm Delete"})}),e.jsxs(b.Body,{children:["Are you sure you want to delete ",d?.CustomerName,"?"]}),e.jsxs(b.Footer,{children:[e.jsx(v,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),e.jsx(v,{variant:"danger",onClick:ne,children:"Delete"})]})]}),e.jsxs(K,{show:m.show,onClose:()=>A({...m,show:!1}),delay:3e3,autohide:!0,style:{position:"fixed",bottom:20,right:20},children:[e.jsx(K.Header,{children:e.jsx("strong",{className:"me-auto",children:"Notification"})}),e.jsx(K.Body,{children:m.message})]})]})}function Ae(){console.log("[Sales] Rendering Sales component");const{customers:g,setCustomers:i,sales:u,setSales:j}=o.useContext(X),[l,p]=o.useState(!1),[I,f]=o.useState(!1),[d,D]=o.useState(null),[n,C]=o.useState({CustomerID:"",Date:new Date,Quantity:"",Rate:"",VehicleRent:"",PaymentMethod:"Select Payment Method",PaymentReceived:"",Remarks:""}),[P,S]=o.useState(0),[x,k]=o.useState({}),[c,r]=o.useState("Date"),[w,a]=o.useState("desc"),[m,A]=o.useState(""),[L,T]=o.useState(1),[z,Y]=o.useState(0),Z=10,Q=o.useRef(null);o.useEffect(()=>{console.log("[Sales] Fetching customers from API"),M.get("http://localhost:3000/api/customers").then(t=>{console.log("[Sales] Fetched customers:",t.data),i(Array.isArray(t.data)?t.data:[])}).catch(t=>{console.error("[Sales] Error fetching customers:",t.message,t.response?.status,t.response?.data),k({api:`Failed to fetch customers: ${t.response?.data?.error||t.message}`})})},[i]),o.useEffect(()=>{console.log("[Sales] Fetching sales from API"),M.get("http://localhost:3000/api/sales",{params:{limit:Z,offset:(L-1)*Z}}).then(t=>{console.log("[Sales] Fetched sales:",t.data);const R=Array.isArray(t.data.data)?t.data.data.map(B=>({...B,Date:B.Date?new Date(B.Date.replace(/-/g,"/")):new Date})):[];j(R),Y(t.data.total||0)}).catch(t=>{console.error("[Sales] Error fetching sales:",t.message,t.response?.status,t.response?.data),j([]),Y(0),k({api:`Failed to save sales: ${t.response?.data?.error||t.message}`})})},[L,j]),o.useEffect(()=>{const t=Number(n.Quantity)||0,R=Number(n.Rate)||0,B=Number(n.VehicleRent)||0;S(Number((t*R+B).toFixed(2)))},[n.Quantity,n.Rate,n.VehicleRent]);const ne=()=>{const t={};if(n.CustomerID||(t.CustomerID="Please select a customer"),!n.Date)t.Date="Please select a date";else{const O=new Date(n.Date);isNaN(O.getTime())?t.Date="Invalid date format":O>new Date&&(t.Date="Future dates are not allowed")}const R=Number(n.Quantity);(!n.Quantity||isNaN(R)||R<=0)&&(t.Quantity="Please enter a valid quantity");const B=Number(n.Rate);(!n.Rate||isNaN(B)||B<=0)&&(t.Rate="Please enter a valid rate");const V=Number(n.VehicleRent);if(n.VehicleRent&&(isNaN(V)||V<0)&&(t.VehicleRent="Vehicle rent cannot be negative"),n.PaymentMethod&&n.PaymentMethod!=="Select Payment Method"){const O=Number(n.PaymentReceived);(!n.PaymentReceived||isNaN(O)||O<=0)&&(t.PaymentReceived="Please enter a valid payment received")}else Number(n.PaymentReceived)>0&&n.PaymentMethod==="Select Payment Method"&&(t.PaymentMethod="Please select a valid payment method before entering Payment Received");return k(t),console.log("[Sales] Validation errors:",t),Object.keys(t).length===0},$=t=>{console.log("[Sales] Sorting by:",t);const R=c===t&&w==="asc"?"desc":"asc";r(t),a(R)},_=t=>{A(t.target.value),T(1)},J=async()=>{if(console.log("[Sales] Saving sale"),!!ne())try{const t=`${n.Date.getFullYear()}-${String(n.Date.getMonth()+1).padStart(2,"0")}-${String(n.Date.getDate()).padStart(2,"0")}`;console.log("[Sales] Formatted date for save:",t);const R=Number(n.VehicleRent),B=n.PaymentReceived?Math.floor(Number(n.PaymentReceived)):0;console.log("[Sales] PaymentReceived value:",B);const V={CustomerID:n.CustomerID,Date:t,Quantity:Number(n.Quantity)||0,Rate:Number(n.Rate)||0,VehicleRent:n.VehicleRent&&!isNaN(R)?Number(R.toFixed(2)):null,Amount:P,PaymentMethod:n.PaymentMethod!=="Select Payment Method"?n.PaymentMethod:null,PaymentReceived:B,Remarks:n.Remarks||null};console.log("[Sales] Sending payload:",V);const O=d?`/api/sales/${d.SaleID}`:"/api/sales",H=await M[d?"put":"post"](`http://localhost:3000${O}`,V);console.log("[Sales] Sale saved:",H.data),j(oe=>{const he=g.find(re=>re.CustomerID===n.CustomerID)?.CustomerName||"";return d?oe.map(re=>re.SaleID===d.SaleID?{...V,SaleID:d.SaleID,CustomerName:he,CreatedAt:H.data.CreatedAt,UpdatedAt:H.data.UpdatedAt}:re):[{...V,SaleID:H.data.SaleID,CustomerName:he,CreatedAt:H.data.CreatedAt},...oe]}),p(!1),D(null),C({CustomerID:"",Date:new Date,Quantity:"",Rate:"",VehicleRent:"",PaymentMethod:"Select Payment Method",PaymentReceived:"",Remarks:""}),Y(oe=>oe+(d?0:1)),k({})}catch(t){console.error("[Sales] Error saving sale:",t.message,t.response?.status,t.response?.data),k({api:`Failed to save sale: ${t.response?.data?.error||t.message}`})}},ee=t=>{console.log("[Sales] Editing sale:",t.SaleID),D(t);const R=t.Date?new Date(t.Date):new Date;C({CustomerID:t.CustomerID||"",Date:R,Quantity:t.Quantity.toString()||"",Rate:t.Rate.toString()||"",VehicleRent:t.VehicleRent?.toString()||"",PaymentMethod:t.PaymentMethod||"Select Payment Method",PaymentReceived:t.PaymentReceived.toString()||"",Remarks:t.Remarks||""}),p(!0),k({})},te=t=>{console.log("[Sales] Opening delete modal for sale:",t.SaleID),D(t),f(!0)},y=async()=>{if(d){console.log("[Sales] Deleting sale:",d.SaleID);try{await M.delete(`http://localhost:3000/api/sales/${d.SaleID}`),console.log("[Sales] Sale deleted:",d.SaleID),j(t=>t.filter(R=>R.SaleID!==d.SaleID)),Y(t=>t-1),f(!1),D(null)}catch(t){console.error("[Sales] Error deleting sale:",t.message,t.response?.status,t.response?.data),k({api:`Failed to delete sale: ${t.response?.data?.error||t.message}`})}}},s=u.filter(t=>t.CustomerName?.toLowerCase().includes(m.toLowerCase())).sort((t,R)=>{const B=t[c]??"",V=R[c]??"";return w==="asc"?B<V?-1:B>V?1:0:B>V?-1:B<V?1:0}),N=Math.max(1,Math.ceil(z/Z));return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Sales"}),e.jsx(v,{variant:"primary",onClick:()=>{D(null),C({CustomerID:"",Date:new Date,Quantity:"",Rate:"",VehicleRent:"",PaymentMethod:"Select Payment Method",PaymentReceived:"",Remarks:""}),k({}),p(!0)},className:"my-3",children:"Add Sale"}),e.jsx(h.Group,{className:"my-3",children:e.jsx(h.Control,{type:"text",placeholder:"Search by customer name",value:m,onChange:_})}),x.api&&e.jsx(ae,{variant:"danger",children:x.api}),e.jsx("div",{className:"table-responsive my-3",children:e.jsxs(G,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("SaleID"),children:["Sale ID ",c==="SaleID"&&(w==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("Date"),children:["Date ",c==="Date"&&(w==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("CustomerName"),children:["Customer ",c==="CustomerName"&&(w==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("Quantity"),children:["Quantity ",c==="Quantity"&&(w==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("Rate"),children:["Rate ",c==="Rate"&&(w==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("VehicleRent"),children:["Vehicle Rent ",c==="VehicleRent"&&(w==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("Amount"),children:["Amount ",c==="Amount"&&(w==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("PaymentMethod"),children:["Payment Method ",c==="PaymentMethod"&&(w==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("PaymentReceived"),children:["Payment Received ",c==="PaymentReceived"&&(w==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>$("Remarks"),children:["Remarks ",c==="Remarks"&&(w==="asc"?"↑":"↓")]}),e.jsx("th",{style:{whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx("tbody",{children:s.map(t=>e.jsxs("tr",{children:[e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.SaleID}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:se(t.Date)}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.CustomerName||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.Quantity||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.Rate?E(t.Rate):"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.VehicleRent?E(t.VehicleRent):"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.Amount?E(t.Amount):"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.PaymentMethod||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.PaymentReceived?E(t.PaymentReceived):"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:t.Remarks||"-"}),e.jsxs("td",{style:{whiteSpace:"nowrap"},children:[e.jsx(v,{variant:"warning",size:"sm",onClick:()=>ee(t),className:"me-2",children:"Edit"}),e.jsx(v,{variant:"danger",size:"sm",onClick:()=>te(t),children:"Delete"})]})]},t.SaleID))})]})}),e.jsxs("div",{className:"my-3",children:[e.jsx(v,{disabled:L===1,onClick:()=>{console.log("[Sales] Previous page"),T(t=>t-1)},children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",L," of ",N]}),e.jsx(v,{disabled:L>=N,onClick:()=>{console.log("[Sales] Next page"),T(t=>t+1)},children:"Next"})]}),e.jsxs(b,{show:l,onHide:()=>{p(!1),C({CustomerID:"",Date:new Date,Quantity:"",Rate:"",VehicleRent:"",PaymentMethod:"Select Payment Method",PaymentReceived:"",Remarks:""}),k({})},children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:d?"Edit Sale":"Add Sale"})}),e.jsx(b.Body,{children:e.jsxs(h,{onSubmit:t=>t.preventDefault(),children:[e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Customer"}),e.jsxs(h.Select,{value:n.CustomerID,onChange:t=>C({...n,CustomerID:t.target.value}),isInvalid:!!x.CustomerID,ref:Q,children:[e.jsx("option",{value:"",children:"Select Customer"}),g.map(t=>e.jsx("option",{value:t.CustomerID,children:t.CustomerName},t.CustomerID))]}),e.jsx(h.Control.Feedback,{type:"invalid",children:x.CustomerID})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Date"}),e.jsx(xe,{value:n.Date,onChange:([t])=>{if(t){const R=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;console.log("[Sales] Selected date:",R),C({...n,Date:t})}},options:{dateFormat:"d-m-Y",maxDate:new Date},className:`form-control ${x.Date?"is-invalid":""}`}),e.jsx(h.Control.Feedback,{type:"invalid",children:x.Date})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Quantity"}),e.jsx(h.Control,{type:"number",value:n.Quantity,onChange:t=>C({...n,Quantity:t.target.value}),placeholder:"Enter quantity",min:"0.01",step:"0.01",isInvalid:!!x.Quantity}),e.jsx(h.Control.Feedback,{type:"invalid",children:x.Quantity})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Rate"}),e.jsx(h.Control,{type:"number",value:n.Rate,onChange:t=>C({...n,Rate:t.target.value}),placeholder:"Enter rate",min:"0.01",step:"0.01",isInvalid:!!x.Rate}),e.jsx(h.Control.Feedback,{type:"invalid",children:x.Rate})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Vehicle Rent"}),e.jsx(h.Control,{type:"number",value:n.VehicleRent,onChange:t=>C({...n,VehicleRent:t.target.value}),placeholder:"Enter vehicle rent",min:"0",step:"0.01",isInvalid:!!x.VehicleRent}),e.jsx(h.Control.Feedback,{type:"invalid",children:x.VehicleRent})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Amount"}),e.jsx(h.Control,{type:"text",value:E(P),readOnly:!0})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Payment Method"}),e.jsxs(h.Select,{value:n.PaymentMethod,onChange:t=>{const R=t.target.value;C({...n,PaymentMethod:R,PaymentReceived:R==="Select Payment Method"?"0":n.PaymentReceived?n.PaymentReceived:""})},isInvalid:!!x.PaymentMethod,children:[e.jsx("option",{value:"Select Payment Method",children:"Select Payment Method"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Others",children:"Others"})]}),e.jsx(h.Control.Feedback,{type:"invalid",children:x.PaymentMethod})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Payment Received"}),e.jsx(h.Control,{type:"number",value:n.PaymentReceived,onChange:t=>{const R=t.target.value;(R===""||/^[0-9]*$/.test(R))&&C({...n,PaymentReceived:R})},placeholder:n.PaymentMethod==="Select Payment Method"?"0":"Enter payment received",min:"0",step:"1",disabled:n.PaymentMethod==="Select Payment Method",isInvalid:!!x.PaymentReceived}),e.jsx(h.Control.Feedback,{type:"invalid",children:x.PaymentReceived})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Remarks"}),e.jsx(h.Control,{type:"text",value:n.Remarks,onChange:t=>C({...n,Remarks:t.target.value}),placeholder:"Enter remarks"})]})]})}),e.jsxs(b.Footer,{children:[e.jsx(v,{variant:"secondary",onClick:()=>{p(!1),C({CustomerID:"",Date:new Date,Quantity:"",Rate:"",VehicleRent:"",PaymentMethod:"Select Payment Method",PaymentReceived:"",Remarks:""}),k({})},children:"Close"}),e.jsx(v,{variant:"primary",onClick:J,children:"Save"})]})]}),e.jsxs(b,{show:I,onHide:()=>f(!1),children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:"Confirm Delete"})}),e.jsxs(b.Body,{children:["Are you sure you want to delete sale ",d?.SaleID,"?"]}),e.jsxs(b.Footer,{children:[e.jsx(v,{variant:"contrib",onClick:()=>f(!1),children:"Cancel"}),e.jsx(v,{variant:"danger",onClick:y,children:"Delete"})]})]})]})}function Te(){console.log("[Payments] Rendering Payments component");const{customers:g,setCustomers:i,payments:u,setPayments:j}=o.useContext(X),[l,p]=o.useState(!1),[I,f]=o.useState(!1),[d,D]=o.useState(null),[n,C]=o.useState({CustomerID:"",Date:new Date,PaymentMethod:"Select Payment Method",PaymentReceived:"",Remarks:""}),[P,S]=o.useState({}),[x,k]=o.useState("Date"),[c,r]=o.useState("desc"),[w,a]=o.useState(""),[m,A]=o.useState(1),[L,T]=o.useState(0),z=10,Y=o.useRef(null);o.useEffect(()=>{console.log("[Payments] Fetching customers from API"),M.get("http://localhost:3000/api/customers").then(s=>{console.log("[Payments] Fetched customers:",s.data),i(Array.isArray(s.data)?s.data:[])}).catch(s=>{console.error("[Payments] Error fetching customers:",s.message,s.response?.status,s.response?.data),S({api:`Failed to fetch customers: ${s.response?.data?.error||s.message}`})})},[i]),o.useEffect(()=>{console.log("[Payments] Fetching payments from API"),M.get("http://localhost:3000/api/payments",{params:{limit:z,offset:(m-1)*z}}).then(s=>{console.log("[Payments] Fetched payments:",s.data);const N=Array.isArray(s.data.data)?s.data.data.map(t=>({...t,Date:t.Date?new Date(t.Date.replace(/-/g,"/")):new Date})):[];j(N),T(s.data.total||0)}).catch(s=>{console.error("[Payments] Error fetching payments:",s.message,s.response?.status,s.response?.data),j([]),T(0),S({api:`Failed to fetch payments: ${s.response?.data?.error||s.message}`})})},[m,j]);const Z=()=>{const s={};if(n.CustomerID||(s.CustomerID="Please select a customer"),!n.Date)s.Date="Please select a date";else{const t=new Date(n.Date);isNaN(t.getTime())?s.Date="Invalid date format":t>new Date&&(s.Date="Future dates are not allowed")}n.PaymentMethod==="Select Payment Method"&&(s.PaymentMethod="Please select a payment method");const N=Number(n.PaymentReceived);return(!n.PaymentReceived||isNaN(N)||N<=0)&&(s.PaymentReceived="Please enter a valid payment amount greater than 0"),S(s),console.log("[Payments] Validation errors:",s),Object.keys(s).length===0},Q=s=>{console.log("[Payments] Sorting by:",s);const N=x===s&&c==="asc"?"desc":"asc";k(s),r(N)},ne=s=>{a(s.target.value),A(1)},$=async()=>{if(console.log("[Payments] Saving payment"),!!Z())try{const s=`${n.Date.getFullYear()}-${String(n.Date.getMonth()+1).padStart(2,"0")}-${String(n.Date.getDate()).padStart(2,"0")}`;console.log("[Payments] Formatted date for save:",s);const N=Number(n.PaymentReceived);console.log("[Payments] PaymentReceived value:",N);const t={CustomerID:n.CustomerID,Date:s,PaymentReceived:N,PaymentMethod:n.PaymentMethod,Remarks:n.Remarks||null};console.log("[Payments] Sending payload:",t);const R=d?`/api/payments/${d.PaymentID}`:"/api/payments",V=await M[d?"put":"post"](`http://localhost:3000${R}`,t);console.log("[Payments] Payment saved:",V.data);const O=await M.get("http://localhost:3000/api/payments",{params:{limit:z,offset:(m-1)*z}}),de=Array.isArray(O.data.data)?O.data.data.map(H=>({...H,Date:H.Date?new Date(H.Date.replace(/-/g,"/")):new Date})):[];j(de),T(O.data.total||0),p(!1),D(null),C({CustomerID:"",Date:new Date,PaymentMethod:"Select Payment Method",PaymentReceived:n.PaymentReceived,Remarks:""}),S({})}catch(s){console.error("[Payments] Error saving payment:",s.message,s.response?.status,s.response?.data),S({api:`Failed to save payment: ${s.response?.data?.error||s.message}`})}},_=s=>{console.log("[Payments] Editing payment:",s.PaymentID),D(s);const N=s.Date?new Date(s.Date):new Date;C({CustomerID:s.CustomerID||"",Date:N,PaymentMethod:s.PaymentMethod||"Select Payment Method",PaymentReceived:s.PaymentReceived.toString()||"",Remarks:s.Remarks||""}),p(!0),S({})},J=s=>{console.log("[Payments] Opening delete modal for payment:",s.PaymentID),D(s),f(!0)},ee=async()=>{if(d){console.log("[Payments] Deleting payment:",d.PaymentID);try{await M.delete(`http://localhost:3000/api/payments/${d.PaymentID}`),console.log("[Payments] Payment deleted:",d.PaymentID),j(s=>s.filter(N=>N.PaymentID!==d.PaymentID)),T(s=>s-1),f(!1),D(null)}catch(s){console.error("[Payments] Error deleting payment:",s.message,s.response?.status,s.response?.data),S({api:`Failed to delete payment: ${s.response?.data?.error||s.message}`})}}},te=u.filter(s=>s.CustomerName?.toLowerCase().includes(w.toLowerCase())).sort((s,N)=>{const t=s[x]??"",R=N[x]??"";return c==="asc"?t<R?-1:t>R?1:0:t>R?-1:t<R?1:0}),y=Math.max(1,Math.ceil(L/z));return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Payments"}),e.jsx(v,{variant:"primary",onClick:()=>{D(null),C({CustomerID:"",Date:new Date,PaymentMethod:"Select Payment Method",PaymentReceived:"",Remarks:""}),S({}),p(!0)},className:"my-3",children:"Add Payment"}),e.jsx(h.Group,{className:"my-3",children:e.jsx(h.Control,{type:"text",placeholder:"Search by customer name",value:w,onChange:ne})}),P.api&&e.jsx(ae,{variant:"danger",children:P.api}),e.jsx("div",{className:"table-responsive my-3",children:e.jsxs(G,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>Q("PaymentID"),children:["Payment ID ",x==="PaymentID"&&(c==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>Q("Date"),children:["Date ",x==="Date"&&(c==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>Q("CustomerName"),children:["Customer ",x==="CustomerName"&&(c==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>Q("PaymentMethod"),children:["Payment Method ",x==="PaymentMethod"&&(c==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>Q("PaymentReceived"),children:["Payment Received ",x==="PaymentReceived"&&(c==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>Q("Remarks"),children:["Remarks ",x==="Remarks"&&(c==="asc"?"↑":"↓")]}),e.jsx("th",{style:{whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx("tbody",{children:te.map(s=>e.jsxs("tr",{children:[e.jsx("td",{style:{whiteSpace:"nowrap"},children:s.PaymentID}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:se(s.Date)}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:s.CustomerName||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:s.PaymentMethod||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:s.PaymentReceived?E(s.PaymentReceived):"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:s.Remarks||"-"}),e.jsxs("td",{style:{whiteSpace:"nowrap"},children:[e.jsx(v,{variant:"warning",size:"sm",onClick:()=>_(s),className:"me-2",children:"Edit"}),e.jsx(v,{variant:"danger",size:"sm",onClick:()=>J(s),children:"Delete"})]})]},s.PaymentID))})]})}),e.jsxs("div",{className:"my-3",children:[e.jsx(v,{disabled:m===1,onClick:()=>{console.log("[Payments] Previous page"),A(s=>s-1)},children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",m," of ",y]}),e.jsx(v,{disabled:m>=y,onClick:()=>{console.log("[Payments] Next page"),A(s=>s+1)},children:"Next"})]}),e.jsxs(b,{show:l,onHide:()=>{p(!1),C({CustomerID:"",Date:new Date,PaymentMethod:"Select Payment Method",PaymentReceived:"",Remarks:""}),S({})},children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:d?"Edit Payment":"Add Payment"})}),e.jsx(b.Body,{children:e.jsxs(h,{onSubmit:s=>s.preventDefault(),children:[e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Customer"}),e.jsxs(h.Select,{value:n.CustomerID,onChange:s=>C({...n,CustomerID:s.target.value}),isInvalid:!!P.CustomerID,ref:Y,children:[e.jsx("option",{value:"",children:"Select Customer"}),g.map(s=>e.jsx("option",{value:s.CustomerID,children:s.CustomerName},s.CustomerID))]}),e.jsx(h.Control.Feedback,{type:"invalid",children:P.CustomerID})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Date"}),e.jsx(xe,{value:n.Date,onChange:([s])=>{if(s){const N=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`;console.log("[Payments] Selected date:",N),C({...n,Date:s})}},options:{dateFormat:"d-m-Y",maxDate:new Date},className:`form-control ${P.Date?"is-invalid":""}`}),e.jsx(h.Control.Feedback,{type:"invalid",children:P.Date})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Payment Method"}),e.jsxs(h.Select,{value:n.PaymentMethod,onChange:s=>C({...n,PaymentMethod:s.target.value}),isInvalid:!!P.PaymentMethod,children:[e.jsx("option",{value:"Select Payment Method",children:"Select Payment Method"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Others",children:"Others"})]}),e.jsx(h.Control.Feedback,{type:"invalid",children:P.PaymentMethod})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Payment Received"}),e.jsx(h.Control,{type:"number",value:n.PaymentReceived,onChange:s=>C({...n,PaymentReceived:s.target.value}),placeholder:"Enter payment amount",min:"0.01",step:"0.01",isInvalid:!!P.PaymentReceived}),e.jsx(h.Control.Feedback,{type:"invalid",children:P.PaymentReceived})]}),e.jsxs(h.Group,{className:"mb-3",children:[e.jsx(h.Label,{children:"Remarks"}),e.jsx(h.Control,{type:"text",value:n.Remarks,onChange:s=>C({...n,Remarks:s.target.value}),placeholder:"Enter remarks"})]})]})}),e.jsxs(b.Footer,{children:[e.jsx(v,{variant:"secondary",onClick:()=>{p(!1),C({CustomerID:"",Date:new Date,PaymentMethod:"Select Payment Method",PaymentReceived:"",Remarks:""}),S({})},children:"Close"}),e.jsx(v,{variant:"primary",onClick:$,children:"Save"})]})]}),e.jsxs(b,{show:I,onHide:()=>f(!1),children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:"Confirm Delete"})}),e.jsxs(b.Body,{children:["Are you sure you want to delete payment ",d?.PaymentID,"?"]}),e.jsxs(b.Footer,{children:[e.jsx(v,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),e.jsx(v,{variant:"danger",onClick:ee,children:"Delete"})]})]})]})}function Be(){console.log("[Transactions] Rendering Transactions component");const{transactions:g,setTransactions:i}=o.useContext(X),[u,j]=o.useState("Date"),[l,p]=o.useState("desc"),[I,f]=o.useState(""),[d,D]=o.useState(1),[n,C]=o.useState(0),P=10;o.useEffect(()=>{console.log("[Transactions] Fetching transactions from API"),M.get("http://localhost:3000/api/transactions",{params:{limit:P,offset:(d-1)*P}}).then(r=>{console.log("[Transactions] Fetched transactions:",r.data);const w=Array.isArray(r.data.data)?r.data.data:[];i(w),C(r.data.total||0)}).catch(r=>{console.error("[Transactions] Error fetching transactions:",r.message,r.response?.status,r.response?.data),i([]),C(0)})},[d,i]);const S=r=>{console.log("[Transactions] Sorting by:",r);const w=u===r&&l==="asc"?"desc":"asc";j(r),p(w)},x=r=>{f(r.target.value),D(1)},k=g.filter(r=>r.CustomerName?.toLowerCase().includes(I.toLowerCase())).sort((r,w)=>{const a=r[u]??"",m=w[u]??"";return l==="asc"?a<m?-1:a>m?1:0:a>m?-1:a<m?1:0}),c=Math.max(1,Math.ceil(n/P));return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Transactions"}),e.jsx(h.Group,{className:"my-3",children:e.jsx(h.Control,{type:"text",placeholder:"Search by customer name",value:I,onChange:x})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(G,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("TransactionID"),children:["Transaction ID ",u==="TransactionID"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("Type"),children:["Type ",u==="Type"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("Date"),children:["Date ",u==="Date"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("CustomerName"),children:["Customer ",u==="CustomerName"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("Quantity"),children:["Quantity ",u==="Quantity"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("Rate"),children:["Rate ",u==="Rate"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("VehicleRent"),children:["Vehicle Rent ",u==="VehicleRent"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("Amount"),children:["Amount ",u==="Amount"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("PaymentMethod"),children:["Payment Method ",u==="PaymentMethod"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("PaymentReceived"),children:["Payment Received ",u==="PaymentReceived"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("Remarks"),children:["Remarks ",u==="Remarks"&&(l==="asc"?"↑":"↓")]})]})}),e.jsx("tbody",{children:k.map(r=>e.jsxs("tr",{children:[e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.TransactionID||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.Type||(r.TransactionID?.startsWith("SALE")?"Sale":r.TransactionID?.startsWith("PAY")?"Payment":"-")}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:se(r.Date)||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.CustomerName||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.Quantity||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.Rate?E(r.Rate):"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.VehicleRent?E(r.VehicleRent):"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.Amount?E(r.Amount):"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.PaymentMethod||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.PaymentReceived?E(r.PaymentReceived):"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.Remarks||"-"})]},r.TransactionID))})]})}),e.jsxs("div",{children:[e.jsx(v,{disabled:d===1,onClick:()=>{console.log("[Transactions] Previous page"),D(r=>r-1)},children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",d," of ",c]}),e.jsx(v,{disabled:d>=c,onClick:()=>{console.log("[Transactions] Next page"),D(r=>r+1)},children:"Next"})]})]})}function Ee(){console.log("[Balances] Rendering Balances component");const{balances:g,setBalances:i}=o.useContext(X),[u,j]=o.useState("CustomerName"),[l,p]=o.useState("asc"),[I,f]=o.useState(""),[d,D]=o.useState(1),[n,C]=o.useState(0),P=10;o.useEffect(()=>{console.log("[Balances] Fetching balances from API"),M.get("http://localhost:3000/api/balances",{params:{limit:P,offset:(d-1)*P}}).then(r=>{console.log("[Balances] Fetched balances:",r.data);const w=Array.isArray(r.data)?r.data:[];i(w),C(w.length||0),console.log("[Balances] Updated balances state:",w)}).catch(r=>{console.error("[Balances] Error fetching balances:",r.message,r.response?.status,r.response?.data),i([]),C(0)})},[d,i]);const S=r=>{console.log("[Balances] Sorting by:",r);const w=u===r&&l==="asc"?"desc":"asc";j(r),p(w)},x=r=>{f(r.target.value),D(1)},k=g.filter(r=>r.CustomerName?.toLowerCase().includes(I.toLowerCase())).sort((r,w)=>{const a=r[u]||0,m=w[u]||0;return l==="asc"?a<m?-1:a>m?1:0:a>m?-1:a<m?1:0});console.log("[Balances] Filtered balances:",k);const c=Math.max(1,Math.ceil(n/P));return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Balances"}),e.jsx(h.Group,{className:"my-3",children:e.jsx(h.Control,{type:"text",placeholder:"Search by customer name",value:I,onChange:x})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(G,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("CustomerName"),children:["Customer ",u==="CustomerName"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("TotalSales"),children:["Total Sales ",u==="TotalSales"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("TotalPayments"),children:["Total Payments ",u==="TotalPayments"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>S("PendingBalance"),children:["Pending Balance ",u==="PendingBalance"&&(l==="asc"?"↑":"↓")]})]})}),e.jsx("tbody",{children:k.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,style:{textAlign:"center"},children:"No balances available"})}):k.map(r=>e.jsxs("tr",{children:[e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.CustomerName||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.TotalSales?E(r.TotalSales):"0"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.TotalPayments?E(r.TotalPayments):"0"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:r.PendingBalance?E(r.PendingBalance):"0"})]},r.CustomerID))})]})}),e.jsxs("div",{children:[e.jsx(v,{disabled:d===1,onClick:()=>{console.log("[Balances] Previous page"),D(r=>r-1)},children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",d," of ",c]}),e.jsx(v,{disabled:d>=c,onClick:()=>{console.log("[Balances] Next page"),D(r=>r+1)},children:"Next"})]})]})}function Le(){console.log("[Backup] Rendering Backup component");const[g,i]=o.useState(!1),[u,j]=o.useState(!1),[l,p]=o.useState({show:!1,message:""}),[I,f]=o.useState([]),[d,D]=o.useState("");o.useEffect(()=>{console.log("[Backup] Fetching backups from API"),M.get("http://localhost:3000/api/backups").then(c=>{console.log("[Backup] Fetched backups:",c.data),f(Array.isArray(c.data)?c.data:[])}).catch(c=>{console.error("[Backup] Error fetching backups:",c.message),p({show:!0,message:`Failed to fetch backups: ${c.response?.data?.error||c.message}`})})},[]);const n=()=>{console.log("[Backup] Creating backup"),M.post("http://localhost:3000/api/backup").then(c=>{console.log("[Backup] Backup created:",c.data),p({show:!0,message:`Backup created successfully: ${c.data.file}`}),f(r=>[{file:c.data.file,createdAt:new Date().toISOString()},...r])}).catch(c=>{console.error("[Backup] Error creating backup:",c.message),p({show:!0,message:`Failed to create backup: ${c.response?.data?.error||c.message}`})})},C=()=>{console.log("[Backup] Opening cleanup backups confirmation modal"),i(!0)},P=()=>{console.log("[Backup] Confirmed cleanup of old backups"),M.post("http://localhost:3000/api/backup/cleanup").then(c=>{console.log("[Backup] Cleanup successful:",c.data),p({show:!0,message:`Deleted ${c.data.deleted.length} old backups`}),i(!1),f(r=>r.filter(w=>!c.data.deleted.includes(w.file)))}).catch(c=>{console.error("[Backup] Error cleaning up backups:",c.message),p({show:!0,message:`Failed to cleanup backups: ${c.response?.data?.error||c.message}`}),i(!1)})},S=()=>{console.log("[Backup] Opening reset database confirmation modal"),j(!0)},x=()=>{console.log("[Backup] Resetting database"),M.post("http://localhost:3000/api/reset").then(c=>{console.log("[Backup] Database reset:",c.data),p({show:!0,message:"Database reset successfully"}),j(!1)}).catch(c=>{console.error("[Backup] Error resetting database:",c.message),p({show:!0,message:`Failed to reset database: ${c.response?.data?.error||c.message}`}),j(!1)})},k=I.filter(c=>c.file.toLowerCase().includes(d.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Backup"}),e.jsxs("div",{className:"my-3 d-flex flex-wrap gap-2",children:[e.jsx(v,{variant:"primary",onClick:n,children:"Create Backup"}),e.jsx(v,{variant:"warning",onClick:C,children:"Cleanup Old Backups"}),e.jsx(v,{variant:"danger",onClick:S,children:"Reset Database"})]}),e.jsx(h.Group,{className:"my-3",children:e.jsx(h.Control,{type:"text",placeholder:"Search by backup file name",value:d,onChange:c=>D(c.target.value)})}),e.jsx("div",{className:"table-responsive my-3",children:e.jsxs(G,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{whiteSpace:"nowrap"},children:"Backup File"}),e.jsx("th",{style:{whiteSpace:"nowrap"},children:"Created At"})]})}),e.jsx("tbody",{children:k.map(c=>e.jsxs("tr",{children:[e.jsx("td",{style:{whiteSpace:"nowrap"},children:c.file}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:new Date(c.createdAt).toLocaleString("en-GB")})]},c.file))})]})}),e.jsxs(b,{show:g,onHide:()=>i(!1),children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:"Confirm Cleanup"})}),e.jsx(b.Body,{children:"Are you sure you want to delete backups older than 7 days?"}),e.jsxs(b.Footer,{children:[e.jsx(v,{variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx(v,{variant:"warning",onClick:P,children:"Confirm"})]})]}),e.jsxs(b,{show:u,onHide:()=>j(!1),children:[e.jsx(b.Header,{closeButton:!0,children:e.jsx(b.Title,{children:"Confirm Reset Database"})}),e.jsx(b.Body,{children:"Are you sure you want to reset all data in the database? This action cannot be undone."}),e.jsxs(b.Footer,{children:[e.jsx(v,{variant:"secondary",onClick:()=>j(!1),children:"Cancel"}),e.jsx(v,{variant:"danger",onClick:x,children:"Reset Database"})]})]}),e.jsxs(K,{show:l.show,onClose:()=>p({...l,show:!1}),delay:3e3,autohide:!0,style:{position:"fixed",bottom:20,right:20},children:[e.jsx(K.Header,{children:e.jsx("strong",{className:"me-auto",children:"Notification"})}),e.jsx(K.Body,{children:l.message})]})]})}function $e(){console.log("[Logs] Rendering Logs component");const[g,i]=o.useState([]),[u,j]=o.useState("Timestamp"),[l,p]=o.useState("desc"),[I,f]=o.useState(""),[d,D]=o.useState(1),[n,C]=o.useState(0),[P,S]=o.useState(""),x=10;o.useEffect(()=>{console.log("[Logs] Fetching logs from API"),M.get("http://localhost:3000/api/logs",{params:{limit:x,offset:(d-1)*x}}).then(m=>{console.log("[Logs] Fetched logs:",m.data.data),i(Array.isArray(m.data.data)?m.data.data:[]),C(m.data.total||0)}).catch(m=>{console.error("[Logs] Error fetching logs:",m.message,m.response?.status,m.response?.data),i([]),C(0),S(`Failed to fetch logs: ${m.response?.data?.error||m.message}`)})},[d]);const k=async()=>{console.log("[Logs] Clearing logs");try{await M.delete("http://localhost:3000/api/logs"),console.log("[Logs] Logs cleared"),i([]),C(0),D(1),S("")}catch(m){console.error("[Logs] Error clearing logs:",m.message,m.response?.status,m.response?.data),S(`Failed to clear logs: ${m.response?.data?.error||m.message}`)}},c=m=>{console.log("[Logs] Sorting by:",m);const A=u===m&&l==="asc"?"desc":"asc";j(m),p(A)},r=m=>{f(m.target.value),D(1)},w=g.filter(m=>m.Details?.toLowerCase().includes(I.toLowerCase())||m.Action?.toLowerCase().includes(I.toLowerCase())).sort((m,A)=>{const L=m[u]||"",T=A[u]||"";return l==="asc"?L<T?-1:L>T?1:0:L>T?-1:L<T?1:0}),a=Math.max(1,Math.ceil(n/x));return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Logs"}),e.jsx("div",{className:"my-3",children:e.jsx(v,{variant:"danger",onClick:k,children:"Clear Logs"})}),e.jsx(h.Group,{className:"my-3",children:e.jsx(h.Control,{type:"text",placeholder:"Search by action or details",value:I,onChange:r})}),P&&e.jsx(ae,{variant:"danger",children:P}),e.jsx("div",{className:"table-responsive",children:e.jsxs(G,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>c("Timestamp"),children:["Timestamp ",u==="Timestamp"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>c("Action"),children:["Action ",u==="Action"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>c("RecordID"),children:["Record ID ",u==="RecordID"&&(l==="asc"?"↑":"↓")]}),e.jsxs("th",{style:{whiteSpace:"nowrap"},onClick:()=>c("Details"),children:["Details ",u==="Details"&&(l==="asc"?"↑":"↓")]})]})}),e.jsx("tbody",{children:w.map(m=>e.jsxs("tr",{children:[e.jsx("td",{style:{whiteSpace:"nowrap"},children:new Date(m.Timestamp).toLocaleString()}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:m.Action||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:m.RecordID||"-"}),e.jsx("td",{style:{whiteSpace:"nowrap"},children:m.Details||"-"})]},`${m.Timestamp}-${m.RecordID||Math.random()}`))})]})}),e.jsxs("div",{className:"my-3",children:[e.jsx(v,{disabled:d===1,onClick:()=>{console.log("[Logs] Previous page clicked"),D(m=>m-1)},children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",d," of ",a]}),e.jsx(v,{disabled:d>=a,onClick:()=>{console.log("[Logs] Next page clicked"),D(m=>m+1)},children:"Next"})]})]})}const Ce="label";function pe(g,i){typeof g=="function"?g(i):g&&(g.current=i)}function Ve(g,i){const u=g.options;u&&i&&Object.assign(u,i)}function Se(g,i){g.labels=i}function fe(g,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ce;const j=[];g.datasets=i.map(l=>{const p=g.datasets.find(I=>I[u]===l[u]);return!p||!l.data||j.includes(p)?{...l}:(j.push(p),Object.assign(p,l),p)})}function Oe(g){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce;const u={labels:[],datasets:[]};return Se(u,g.labels),fe(u,g.datasets,i),u}function Qe(g,i){const{height:u=150,width:j=300,redraw:l=!1,datasetIdKey:p,type:I,data:f,options:d,plugins:D=[],fallbackContent:n,updateMode:C,...P}=g,S=o.useRef(null),x=o.useRef(null),k=()=>{S.current&&(x.current=new ie(S.current,{type:I,data:Oe(f,p),options:d&&{...d},plugins:D}),pe(i,x.current))},c=()=>{pe(i,null),x.current&&(x.current.destroy(),x.current=null)};return o.useEffect(()=>{!l&&x.current&&d&&Ve(x.current,d)},[l,d]),o.useEffect(()=>{!l&&x.current&&Se(x.current.config.data,f.labels)},[l,f.labels]),o.useEffect(()=>{!l&&x.current&&f.datasets&&fe(x.current.config.data,f.datasets,p)},[l,f.datasets]),o.useEffect(()=>{x.current&&(l?(c(),setTimeout(k)):x.current.update(C))},[l,d,f.labels,f.datasets,C]),o.useEffect(()=>{x.current&&(c(),setTimeout(k))},[I]),o.useEffect(()=>(k(),()=>c()),[]),ge.createElement("canvas",{ref:S,role:"img",height:u,width:j,...P},n)}const Ge=o.forwardRef(Qe);function ze(g,i){return ie.register(i),o.forwardRef((u,j)=>ge.createElement(Ge,{...u,ref:j,type:g}))}const ye=ze("bar",Pe);ie.register(...be);function He(){console.log("[Dashboard] Rendering Dashboard component");const{customers:g,setCustomers:i,sales:u,setSales:j,payments:l,setPayments:p,transactions:I,setTransactions:f,balances:d}=o.useContext(X),[D,n]=o.useState([]),[C,P]=o.useState(null);o.useEffect(()=>{console.log("[Dashboard] Fetching customers"),M.get("http://localhost:3000/api/customers").then(a=>{console.log("[Dashboard] Fetched customers:",a.data),i(Array.isArray(a.data)?a.data:[])}).catch(a=>{console.error("[Dashboard] Error fetching customers:",a.message,a.response?.status,a.response?.data),P(`Failed to fetch customers: ${a.response?.data?.error||a.message}`),i([])})},[i]),o.useEffect(()=>{console.log("[Dashboard] Fetching sales"),M.get("http://localhost:3000/api/sales").then(a=>{console.log("[Dashboard] Fetched sales:",a.data.data),j(Array.isArray(a.data.data)?a.data.data:[])}).catch(a=>{console.error("[Dashboard] Error fetching sales:",a.message,a.response?.status,a.response?.data),P(`Failed to fetch sales: ${a.response?.data?.error||a.message}`),j([])})},[j]),o.useEffect(()=>{console.log("[Dashboard] Fetching payments"),M.get("http://localhost:3000/api/payments").then(a=>{console.log("[Dashboard] Fetched payments:",a.data.data),p(Array.isArray(a.data.data)?a.data.data:[])}).catch(a=>{console.error("[Dashboard] Error fetching payments:",a.message,a.response?.status,a.response?.data),P(`Failed to fetch payments: ${a.response?.data?.error||a.message}`),p([])})},[p]),o.useEffect(()=>{console.log("[Dashboard] Fetching transactions"),M.get("http://localhost:3000/api/transactions").then(a=>{console.log("[Dashboard] Fetched transactions:",a.data.data),f(Array.isArray(a.data.data)?a.data.data:[])}).catch(a=>{console.error("[Dashboard] Error fetching transactions:",a.message,a.response?.status,a.response?.data),P(`Failed to fetch transactions: ${a.response?.data?.error||a.message}`),f([])})},[f]),o.useEffect(()=>{console.log("[Dashboard] Fetching recent logs"),M.get("http://localhost:3000/api/logs",{params:{limit:5}}).then(a=>{console.log("[Dashboard] Fetched logs:",a.data.data),n(Array.isArray(a.data.data)?a.data.data:[])}).catch(a=>{console.error("[Dashboard] Error fetching logs:",a.message,a.response?.status,a.response?.data),P(`Failed to fetch logs: ${a.response?.data?.error||a.message}`),n([])})},[]);const S=d.reduce((a,m)=>a+(m.TotalSales||0),0),x=d.reduce((a,m)=>a+(m.TotalPayments||0),0),k=d.filter(a=>a.PendingBalance<0),c=d.sort((a,m)=>Math.abs(m.PendingBalance)-Math.abs(a.PendingBalance)).slice(0,5),r={labels:u.map(a=>se(a.Date)),datasets:[{label:"Sales Amount",data:u.map(a=>a.Amount),backgroundColor:"#36A2EB"}]},w={labels:l.map(a=>se(a.Date)),datasets:[{label:"Payments Amount",data:l.map(a=>a.Amount),backgroundColor:"#FF6384"}]};return console.log("[Dashboard] Rendering with state:",{customers:g,sales:u,payments:l,transactions:I,balances:d,logs:D}),e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Dashboard"}),C&&e.jsx(ae,{variant:"danger",children:C}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(F,{className:"mb-3 bg-primary text-white",children:e.jsxs(F.Body,{children:[e.jsx(F.Title,{children:"Customer Count"}),e.jsx(F.Text,{children:g.length||0})]})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(F,{className:"mb-3 bg-success text-white",children:e.jsxs(F.Body,{children:[e.jsx(F.Title,{children:"Total Sales"}),e.jsx(F.Text,{children:E(S)||"₹0"})]})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(F,{className:"mb-3 bg-info text-white",children:e.jsxs(F.Body,{children:[e.jsx(F.Title,{children:"Total Payments"}),e.jsx(F.Text,{children:E(x)||"₹0"})]})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(F,{className:"mb-3",children:e.jsxs(F.Body,{children:[e.jsx(F.Title,{children:"Sales Trend"}),u.length>0?e.jsx(ye,{data:r,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Sales Over Time"}},scales:{x:{type:"category"},y:{beginAtZero:!0}}}}):e.jsx("p",{children:"No sales data available"})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx(F,{className:"mb-3",children:e.jsxs(F.Body,{children:[e.jsx(F.Title,{children:"Payments Trend"}),l.length>0?e.jsx(ye,{data:w,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Payments Over Time"}},scales:{x:{type:"category"},y:{beginAtZero:!0}}}}):e.jsx("p",{children:"No payments data available"})]})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(F,{className:"mb-3",children:e.jsxs(F.Body,{children:[e.jsx(F.Title,{children:"Negative Balances"}),k.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs(G,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{whiteSpace:"nowrap",fontSize:"0.9rem"},children:"Customer"}),e.jsx("th",{style:{whiteSpace:"nowrap",fontSize:"0.9rem"},children:"Balance"})]})}),e.jsx("tbody",{children:k.map(a=>(console.log("[Dashboard] Negative Balance Key:",a.CustomerID),e.jsxs("tr",{children:[e.jsx("td",{style:{whiteSpace:"nowrap",fontSize:"0.85rem"},children:a.CustomerName}),e.jsx("td",{style:{whiteSpace:"nowrap",fontSize:"0.85rem"},children:E(a.PendingBalance)})]},a.CustomerID)))})]})}):e.jsx("p",{children:"No negative balances"})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx(F,{className:"mb-3",children:e.jsxs(F.Body,{children:[e.jsx(F.Title,{children:"Top Customers by Balance"}),c.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs(G,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{whiteSpace:"nowrap",fontSize:"0.9rem"},children:"Customer"}),e.jsx("th",{style:{whiteSpace:"nowrap",fontSize:"0.9rem"},children:"Balance"})]})}),e.jsx("tbody",{children:c.map(a=>(console.log("[Dashboard] Top Customer Key:",a.CustomerID),e.jsxs("tr",{children:[e.jsx("td",{style:{whiteSpace:"nowrap",fontSize:"0.85rem"},children:a.CustomerName}),e.jsx("td",{style:{whiteSpace:"nowrap",fontSize:"0.85rem"},children:E(a.PendingBalance)})]},a.CustomerID)))})]})}):e.jsx("p",{children:"No customer balances available"})]})})})]}),e.jsx(F,{className:"mb-3",children:e.jsxs(F.Body,{children:[e.jsx(F.Title,{children:"Recent Logs"}),D.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs(G,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{whiteSpace:"nowrap",fontSize:"0.9rem"},children:"Action"}),e.jsx("th",{style:{whiteSpace:"nowrap",fontSize:"0.9rem"},children:"Timestamp"}),e.jsx("th",{style:{whiteSpace:"nowrap",fontSize:"0.9rem"},children:"Details"})]})}),e.jsx("tbody",{children:D.map((a,m)=>{console.log("[Dashboard] Log Data:",a);const A=a.LogID||`log-${m}`;return e.jsxs("tr",{children:[e.jsx("td",{style:{whiteSpace:"nowrap",fontSize:"0.85rem"},children:a.Action}),e.jsx("td",{style:{whiteSpace:"nowrap",fontSize:"0.85rem"},children:se(a.Timestamp)}),e.jsx("td",{style:{fontSize:"0.85rem"},children:a.Details})]},A)})})]})}):e.jsx("p",{children:"No recent logs available"})]})})]})}function qe(){console.log("[App] Rendering App component");const[g,i]=o.useState(!1),u=o.useRef(null);o.useEffect(()=>{console.log("[App] Adding outside click listener");const l=p=>{u.current&&!u.current.contains(p.target)&&window.innerWidth<768&&(console.log("[App] Outside click detected, collapsing navbar"),i(!1))};return document.addEventListener("mousedown",l),()=>{console.log("[App] Removing outside click listener"),document.removeEventListener("mousedown",l)}},[]);const j=()=>{window.innerWidth<768&&(console.log("[App] Nav link clicked, collapsing navbar"),i(!1))};return e.jsx(je,{children:e.jsx(ve,{children:e.jsxs(Ne,{children:[e.jsx(le,{bg:"dark",variant:"dark",expand:"md",expanded:g,onToggle:()=>i(l=>!l),ref:u,children:e.jsxs(me,{children:[e.jsx(le.Brand,{as:U,to:"/",onClick:j,children:"BrickSync"}),e.jsx(le.Toggle,{"aria-controls":"basic-navbar-nav"}),e.jsx(le.Collapse,{id:"basic-navbar-nav",children:e.jsxs(q,{className:"me-auto",children:[e.jsx(q.Link,{as:U,to:"/",end:!0,onClick:j,children:"Dashboard"}),e.jsx(q.Link,{as:U,to:"/customers",onClick:j,children:"Customers"}),e.jsx(q.Link,{as:U,to:"/sales",onClick:j,children:"Sales"}),e.jsx(q.Link,{as:U,to:"/payments",onClick:j,children:"Payments"}),e.jsx(q.Link,{as:U,to:"/transactions",onClick:j,children:"Transactions"}),e.jsx(q.Link,{as:U,to:"/balances",onClick:j,children:"Balances"}),e.jsx(q.Link,{as:U,to:"/backup",onClick:j,children:"Backup"}),e.jsx(q.Link,{as:U,to:"/logs",onClick:j,children:"Logs"})]})})]})}),e.jsx(me,{className:"mt-3",children:e.jsxs(De,{children:[e.jsx(W,{path:"/",element:e.jsx(He,{})}),e.jsx(W,{path:"/customers",element:e.jsx(Me,{})}),e.jsx(W,{path:"/sales",element:e.jsx(Ae,{})}),e.jsx(W,{path:"/payments",element:e.jsx(Te,{})}),e.jsx(W,{path:"/transactions",element:e.jsx(Be,{})}),e.jsx(W,{path:"/balances",element:e.jsx(Ee,{})}),e.jsx(W,{path:"/backup",element:e.jsx(Le,{})}),e.jsx(W,{path:"/logs",element:e.jsx($e,{})})]})})]})})})}const Ue=ke.createRoot(document.getElementById("root"));Ue.render(e.jsx(je,{children:e.jsx(qe,{})}));
